<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>ERC-223: ERC-20-as tokenek kis extrával #ethereumtudas</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">ERC-223: ERC-20-as tokenek kis extrával #ethereumtudas</h1>
</header>
<section data-field="subtitle" class="p-summary">
Az Ethereum hálózat egyik legvonzóbb ígérete, hogy az okosszerződéseknek hála, saját kriptovalutát hozhat létre rajta bárki. Bár az…
</section>
<section data-field="body" class="e-content">
<section name="3121" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="4c11" id="4c11" class="graf graf--h3 graf--leading graf--title">ERC-223: ERC-20-as tokenek kis extrával #ethereumtudas</h3><p name="d3bf" id="d3bf" class="graf graf--p graf-after--h3">Az Ethereum hálózat egyik legvonzóbb ígérete, hogy az okosszerződéseknek hála, saját kriptovalutát hozhat létre rajta bárki. Bár az ERC-20-as szabványnak köszönhetően ez valóban igaz, az így létrehozott tokenek nem egyenrangú társai a hálózat natív valutájának, az Ethernek.</p><figure name="c243" id="c243" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="1*PSnEHqY5uBu5DZPGvQ0siQ.jpeg" data-width="5472" data-height="3648" src="https://cdn-images-1.medium.com/max/800/1*PSnEHqY5uBu5DZPGvQ0siQ.jpeg"><figcaption class="imageCaption">Designed by Yanalya / Freepik</figcaption></figure><p name="8427" id="8427" class="graf graf--p graf-after--figure">Azon túl, hogy nyilván a tranzakciós költségek csak ETH-ban fizethetőek, további előnyöket is élvez az Ether az általunk létrehozott kriptotokenekkel szemben. Az egyik ilyen előny, hogy egy okosszerződésben könnyen kezelhető, ha valaki ETH-t fizet a szerződésnek, míg kriptotokenek esetén ez csak nehezen megoldható. Arról van szó, hogy pl. egy ICO contract esetén ha ETH-t kívánunk fogadni, az átutalt mennyiség a tranzakció paramétereiből kiolvasható. Ugyanakkor ha ERC-20-as tokent utalunk egy contract-nak, arról a contract semmilyen módon nem értesül. Ezért aztán ha pl. olyan ICO-t szeretnénk szervezni, ahol ETH helyett valamilyen tokent gyűjtünk, akkor ezt csak körülményesen lehet megtenni. Ehhez először engedélyeznünk kell, hogy az ICO contract a megadott tokenmennyiséget levonhassa a számlánkról, majd meghívni a contract kijelölt metódusát. A contract így leemelheti a szükséges összeget. Ha a tranzakció sikeresen végbement, az ICO contract biztos lehet benne, hogy a megfelelő mennyiségű token átkerült hozzá. Olyan ez, mint ha a számlákat átutalás helyett csakis csoportos beszedési megbízással fizethetnénk ki.</p><p name="1bb1" id="1bb1" class="graf graf--p graf-after--p">Az <a href="http://envienta.com" data-href="http://envienta.com" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">ENVIENTA</a> számára azért fontos ez, mert az ENV token egyik fontos felhasználása, hogy projektek támogathatóak lesznek vele. Ennek formája egyfajta projekt ICO, ahol a projekt ERC-1155 alapú projekt specifikus tokeneket bocsát ki. A tokenek a projekt döntésétől függően megtestesíthetnek kedvezményt, lehetnek utility tokenek, de akár üzletrész is szerezhető így a projektben. Fontos tehát, hogy ezek a projekt specifikus ICO contractok képesek legyenek ENV tokenek fogadására.</p><blockquote name="06f9" id="06f9" class="graf graf--blockquote graf-after--p">Gabriel: A lényeg tehát az, hogy az ENVIENTA projekten belül nem tudnánk megoldani ERC20-al azt, hogy az egyes projekteket ENV tokennel lehessen támogatni, csak ETH-val. De miven van nekünk egy Lacink, aki ismeri az ERC223-as szabványt, így ENV-vel lehet majd megtámogatni mondjuk az okosház szürkevíz rendszer projektjét és abból “részesülni” mint mini befektető.</blockquote><p name="b108" id="b108" class="graf graf--p graf-after--blockquote">Az <a href="https://github.com/ethereum/EIPs/issues/223" data-href="https://github.com/ethereum/EIPs/issues/223" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">ERC-223</a>-as tokenek 100%-ig kompatibilisek az ERC-20-as szabvánnyal, viszont tartalmaznak egy kiegészítést, amivel kezelhető a fenti probléma. Ha egy ERC-223-as tokent egy contractnak utalunk, akkor a <strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">transfer</em></strong> metódus meghívja a fogadó contract <strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">tokenFallback</em></strong> metódusát, így a fogadó contract értesülni fog a beérkező tokenekről. Így tehát ugyanolyan egyszerűen utalhatunk ERC-223-as tokeneket pl. ICO contractoknak, mint ha ETH-t utalnánk. A mélyebb megértéshez vessünk egy pillantást a referencia implementációra:</p><figure name="1e19" id="1e19" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/TheBojda/f547ea0361eb6001ca3bd26283122937.js"></script></figure><p name="c340" id="c340" class="graf graf--p graf-after--figure">Nekünk innen a <strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">transfer(address _to, uint _value)</em></strong> metódus érdekes, mivel ez az ami egy átlagos ERC-20-as walletből történő utalásnál végrehajtódik. A metódus először végez egy ellenőrzést, hogy az utalás felhasználónak megy, vagy contractnak (ezt az ellenőrzést az <strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">isContract</em></strong> metódus végzi, és mint a kódban látható, használ némi fekete mágiát az <em class="markup--em markup--p-em">assembly</em> blokkban).</p><p name="b191" id="b191" class="graf graf--p graf-after--p">Amennyiben az utalás célja contract, úgy a <strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">transferToContract</em></strong> metódus fut le, ami meghívja a cél contract <strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">tokenFallback</em></strong> metódusát. Az átutalás csak akkor lesz sikeres, ha ez a metódus sikeresen lefut. Ez két dolog miatt is jó. Egyfelől értesül a contract a tokenek beérkezéséről, másfelől ha a contract nem rendelkezik ilyen fogadó metódussal, akkor nem fut le az utalás. Ez utóbbi azért hasznos, mert így nem tudunk véletlenül olyan contractra tokeneket küldeni, ami nem képes azt fogadni.</p><p name="3ab3" id="3ab3" class="graf graf--p graf-after--p">Az ERC-223-as szabványnak köszönhetően tehát az ERC-20-as tokenek az ETH-hoz hasonlóan könnyedén utalhatóak contractoknak, így lehetőséget adva token alapú ICO-kra a hagyományos ETH alapú ICO-k helyett.</p><h3 name="4f50" id="4f50" class="graf graf--h3 graf-after--p">Kövess minket!</h3><p name="0e27" id="0e27" class="graf graf--p graf-after--h3">A cikksorozat további részeiben ezekkel az okos szerződésekkel fogunk közelebbről megismerkedni, és megtanuljuk azt is, hogy hogyan készíthetünk ilyeneket mi magunk is.</p><p name="4df4" id="4df4" class="graf graf--p graf-after--p">Hogy mindez tényleg felfogható lehessen a cikksorozatot ketten fogjuk írni. A programozói részekért jómagam <a href="https://medium.com/u/792a8f999852" data-href="https://medium.com/u/792a8f999852" data-anchor-type="2" data-user-id="792a8f999852" data-action-value="792a8f999852" data-action="show-user-card" data-action-type="hover" class="markup--user markup--p-user" target="_blank">Laszlo Fazekas</a>(fejlesztő) felelek majd, azért pedig, hogy tényleg minden érthető legyen <a href="https://medium.com/u/f91cbcd0bc44" data-href="https://medium.com/u/f91cbcd0bc44" data-anchor-type="2" data-user-id="f91cbcd0bc44" data-action-value="f91cbcd0bc44" data-action="show-user-card" data-action-type="hover" class="markup--user markup--p-user" target="_blank">Gabriel Varaljay</a>(marketing) “játssza majd a naivat” (tesz fel kérdéseket, magyarázza újra a feldolgozott anyagot).</p><p name="3dcb" id="3dcb" class="graf graf--p graf-after--p graf--trailing">Épp ezért érdemes feliratkoznod <a href="https://medium.com/envienta-magyarország" data-href="https://medium.com/envienta-magyarország" class="markup--anchor markup--p-anchor" target="_blank">ERRE a medium csatornára</a>, de követheted az ENVIENTA Magyarországot <a href="https://twitter.com/envientahun" data-href="https://twitter.com/envientahun" class="markup--anchor markup--p-anchor" rel="nofollow noopener nofollow noopener nofollow noopener noopener" target="_blank">Twitteren</a>, vagy akár csatlakozhatsz a <a href="https://www.facebook.com/groups/1459500857429638/" data-href="https://www.facebook.com/groups/1459500857429638/" class="markup--anchor markup--p-anchor" rel="nofollow noopener nofollow noopener nofollow noopener noopener" target="_blank">tematikus Facebook csoportunkhoz</a> is.</p></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@thebojda" class="p-author h-card">Laszlo Fazekas</a> on <a href="https://medium.com/p/33f207811139"><time class="dt-published" datetime="2018-08-08T16:29:14.393Z">August 8, 2018</time></a>.</p><p><a href="https://medium.com/@thebojda/erc-223-erc-20-as-tokenek-kis-extr%C3%A1val-ethereumtudas-33f207811139" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on November 14, 2020.</p></footer></article></body></html>